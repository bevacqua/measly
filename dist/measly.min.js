// measly@v1.3.8, MIT licensed. https://github.com/bevacqua/measly
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n;"undefined"!=typeof window?n=window:"undefined"!=typeof global?n=global:"undefined"!=typeof self&&(n=self),n.measly=e()}}(function(){return function e(n,t,r){function o(u,c){if(!t[u]){if(!n[u]){var s="function"==typeof require&&require;if(!c&&s)return s(u,!0);if(i)return i(u,!0);var a=new Error("Cannot find module '"+u+"'");throw a.code="MODULE_NOT_FOUND",a}var f=t[u]={exports:{}};n[u][0].call(f.exports,function(e){var t=n[u][1][e];return o(t?t:e)},f,f.exports,e,n,t,r)}return t[u].exports}for(var i="function"==typeof require&&require,u=0;u<r.length;u++)o(r[u]);return o}({1:[function(e,n){(function(t){"use strict";function r(e,n){function t(e,n){var t=n.method;if(n&&n.xhr&&n.xhr.method&&(t=n.xhr.method),!t)throw new Error("A request method must be specified.");return h(t,e,n)}function i(n){var t=o(n.context||e.context,!0);if(t)return t;var i=r(n||e,x);return x.children.push(i),i}function h(n,t,r){function o(){d(w,"create",w),p()}function i(e,n,t){function r(){var r={body:n,statusCode:t||e?500:200};d(w,"cache",e,n),l(e,r,n)}if(!w.prevented){if(w.requested===!0)throw new Error("A request has already been made. Prevent synchronously!");w.prevented=!0,u(r)}}function f(){var e=a.find(t,x);e&&(e.cached=!0,w.xhr=e,w.prevented=!0,d(w,"cache",e.error,e.body),l(e.error,e,e.body))}function p(){"GET"===n&&f(),w.prevented||(w.requested=!0,w.xhr=c(h,l),d(w,"request",w.xhr))}function l(e,n,r){w.error=e,w.response=r,w.done=!0,w.cache&&!n.cached&&(x.cache[t]={expires:a.expires(w.cache),error:e,body:r,statusCode:n.statusCode}),e?(d(w,"error",e,r),d(w,e.statusCode,e,r)):d(w,"data",r),m(w)}var h=r||{};h.json="json"in h?h.json:{},h.url=t,h.method=n.toUpperCase();var w=s({done:!1,requested:!1,prevented:!1,prevent:i,layer:x,context:h.context||e.context,cache:h.cache||e.cache,url:t,method:n},{"throws":!1});return w.abort=y.bind(null,w),u(o),v(w),w}function w(){f.requests(x,!0).forEach(y)}function y(e){e.aborted=!0,e.prevented=!0,d(e,"abort",e.xhr),e.xhr&&e.xhr.abort(),m(e)}function v(e){x.requests.push(e)}function m(e){var n=x.requests.indexOf(e),t=x.requests.splice(n,1);t.length&&d(e,"always",e.error,e.response,e)}var x=o(e.context,!0);return x?x:(x=s({layer:i,parent:n,context:e.context,children:[],requests:[],cache:{},abort:w,request:t},{"throws":!1}),p.forEach(function(e){x[e]=h.bind(null,e)}),l.push(x),x)}function o(e,n){function t(n){var t,r=n.length;for(t=0;r>t;t++){var o=n[t];if(o.context===e)return o}}if(void 0!==i)for(var r,o=f.contexts(i);e&&!r;){var u=t(o);if(u)return u.layer;e=e.parentNode,r=n===!0}}var i,u=e("raf"),c=e("xhr"),s=e("contra/emitter"),a=e("./cache"),f=e("./aggregate"),d=e("./emitCascade"),p=["get","post","put","delete","patch"],l=[];n.exports=i=r({context:t.document.body,base:""}),i.find=o,i.all=l}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./aggregate":16,"./cache":17,"./emitCascade":18,"contra/emitter":5,raf:6,xhr:9}],2:[function(e,n){n.exports=function(e,n){return Array.prototype.slice.call(e,n)}},{}],3:[function(e,n){function t(){}var r=n.exports={};r.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,n="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(n){var t=[];return window.addEventListener("message",function(e){var n=e.source;if((n===window||null===n)&&"process-tick"===e.data&&(e.stopPropagation(),t.length>0)){var r=t.shift();r()}},!0),function(e){t.push(e),window.postMessage("process-tick","*")}}return function(e){setTimeout(e,0)}}(),r.title="browser",r.browser=!0,r.env={},r.argv=[],r.on=t,r.addListener=t,r.once=t,r.off=t,r.removeListener=t,r.removeAllListeners=t,r.emit=t,r.binding=function(){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(){throw new Error("process.chdir is not supported")}},{}],4:[function(e,n){"use strict";var t=e("ticky");n.exports=function(e,n,r){e&&t(function(){e.apply(r||null,n||[])})}},{ticky:8}],5:[function(e,n){"use strict";var t=e("atoa"),r=e("./debounce");n.exports=function(e,n){var o=n||{},i={};return void 0===e&&(e={}),e.on=function(n,t){return i[n]?i[n].push(t):i[n]=[t],e},e.once=function(n,t){return t._once=!0,e.on(n,t),e},e.off=function(n,t){var r=arguments.length;if(1===r)delete i[n];else if(0===r)i={};else{var o=i[n];if(!o)return e;o.splice(o.indexOf(t),1)}return e},e.emit=function(){var n=t(arguments);return e.emitterSnapshot(n.shift()).apply(this,n)},e.emitterSnapshot=function(n){var u=(i[n]||[]).slice(0);return function(){var i=t(arguments),c=this||e;if("error"===n&&o.throws!==!1&&!u.length)throw 1===i.length?i[0]:i;return u.forEach(function(t){o.async?r(t,i,c):t.apply(c,i),t._once&&e.off(n,t)}),e}},e}},{"./debounce":4,atoa:2}],6:[function(e,n){for(var t=e("performance-now"),r="undefined"==typeof window?{}:window,o=["moz","webkit"],i="AnimationFrame",u=r["request"+i],c=r["cancel"+i]||r["cancelRequest"+i],s=!0,a=0;a<o.length&&!u;a++)u=r[o[a]+"Request"+i],c=r[o[a]+"Cancel"+i]||r[o[a]+"CancelRequest"+i];if(!u||!c){s=!1;var f=0,d=0,p=[],l=1e3/60;u=function(e){if(0===p.length){var n=t(),r=Math.max(0,l-(n-f));f=r+n,setTimeout(function(){var e=p.slice(0);p.length=0;for(var n=0;n<e.length;n++)if(!e[n].cancelled)try{e[n].callback(f)}catch(t){setTimeout(function(){throw t},0)}},Math.round(r))}return p.push({handle:++d,callback:e,cancelled:!1}),d},c=function(e){for(var n=0;n<p.length;n++)p[n].handle===e&&(p[n].cancelled=!0)}}n.exports=function(e){return s?u.call(r,function(){try{e.apply(this,arguments)}catch(n){setTimeout(function(){throw n},0)}}):u.call(r,e)},n.exports.cancel=function(){c.apply(r,arguments)}},{"performance-now":7}],7:[function(e,n){(function(e){(function(){var t,r,o;"undefined"!=typeof performance&&null!==performance&&performance.now?n.exports=function(){return performance.now()}:"undefined"!=typeof e&&null!==e&&e.hrtime?(n.exports=function(){return(t()-o)/1e6},r=e.hrtime,t=function(){var e;return e=r(),1e9*e[0]+e[1]},o=t()):Date.now?(n.exports=function(){return Date.now()-o},o=Date.now()):(n.exports=function(){return(new Date).getTime()-o},o=(new Date).getTime())}).call(this)}).call(this,e("_process"))},{_process:3}],8:[function(e,n){var t,r="function"==typeof setImmediate;t=r?function(e){setImmediate(e)}:function(e){setTimeout(e,0)},n.exports=t},{}],9:[function(e,n){function t(e,n){function t(){4===w.readyState&&E()}function o(){var e=null;if(w.response?e=w.response:"text"!==w.responseType&&w.responseType||(e=w.responseText||w.responseXML),q)try{e=JSON.parse(e)}catch(n){}return e}function f(){return 1223===w.status?204:w.status}function d(e){var n=null;if(0===e||e>=400&&600>e){var t=("string"==typeof x?x:!1)||c[String(e).charAt(0)];n=new Error(t),n.statusCode=e}return n}function p(){var e=f(),t=d(e),r={body:o(),statusCode:e,statusText:w.statusText,raw:w};r.headers=w.getAllResponseHeaders?u(w.getAllResponseHeaders()):{},n(t,r,r.body)}function l(){var e=f(),t=d(e);w.status=w.statusCode=e,w.body=o(),w.headers=u(w.getAllResponseHeaders()),n(t,w,w.body)}function h(e){n(e,w)}"string"==typeof e&&(e={uri:e}),e=e||{},n=i(n);var w=e.xhr||null;w||(w=e.cors||e.useXDR?new a:new s);var y,v=w.url=e.uri||e.url,m=w.method=e.method||"GET",x=e.body||e.data,g=w.headers=e.headers||{},b=!!e.sync,q=!1,E=e.response?p:l;if("json"in e&&(q=!0,g.Accept="application/json","GET"!==m&&"HEAD"!==m&&(g["Content-Type"]="application/json",x=JSON.stringify(e.json))),w.onreadystatechange=t,w.onload=E,w.onerror=h,w.onprogress=function(){},w.ontimeout=r,w.open(m,v,!b),(e.withCredentials||e.cors&&e.withCredentials!==!1)&&(w.withCredentials=!0),b||(w.timeout="timeout"in e?e.timeout:5e3),w.setRequestHeader)for(y in g)g.hasOwnProperty(y)&&w.setRequestHeader(y,g[y]);else if(e.headers)throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(w.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(w),w.send(x),w}function r(){}var o=e("global/window"),i=e("once"),u=e("parse-headers"),c={0:"Internal XMLHttpRequest Error",4:"4xx Client Error",5:"5xx Server Error"},s=o.XMLHttpRequest||r,a="withCredentials"in new s?s:o.XDomainRequest;n.exports=t},{"global/window":10,once:11,"parse-headers":15}],10:[function(e,n){(function(e){n.exports="undefined"!=typeof window?window:"undefined"!=typeof e?e:{}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],11:[function(e,n){function t(e){var n=!1;return function(){return n?void 0:(n=!0,e.apply(this,arguments))}}n.exports=t,t.proto=t(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return t(this)},configurable:!0})})},{}],12:[function(e,n){function t(e,n,t){if(!u(n))throw new TypeError("iterator must be a function");arguments.length<3&&(t=this),"[object Array]"===c.call(e)?r(e,n,t):"string"==typeof e?o(e,n,t):i(e,n,t)}function r(e,n,t){for(var r=0,o=e.length;o>r;r++)s.call(e,r)&&n.call(t,e[r],r,e)}function o(e,n,t){for(var r=0,o=e.length;o>r;r++)n.call(t,e.charAt(r),r,e)}function i(e,n,t){for(var r in e)s.call(e,r)&&n.call(t,e[r],r,e)}var u=e("is-function");n.exports=t;var c=Object.prototype.toString,s=Object.prototype.hasOwnProperty},{"is-function":13}],13:[function(e,n){function t(e){var n=r.call(e);return"[object Function]"===n||"function"==typeof e&&"[object RegExp]"!==n||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)}n.exports=t;var r=Object.prototype.toString},{}],14:[function(e,n,t){function r(e){return e.replace(/^\s*|\s*$/g,"")}t=n.exports=r,t.left=function(e){return e.replace(/^\s*/,"")},t.right=function(e){return e.replace(/\s*$/,"")}},{}],15:[function(e,n){var t=e("trim"),r=e("for-each"),o=function(e){return"[object Array]"===Object.prototype.toString.call(e)};n.exports=function(e){if(!e)return{};var n={};return r(t(e).split("\n"),function(e){var r=e.indexOf(":"),i=t(e.slice(0,r)).toLowerCase(),u=t(e.slice(r+1));"undefined"==typeof n[i]?n[i]=u:o(n[i])?n[i].push(u):n[i]=[n[i],u]}),n}},{"for-each":12,trim:14}],16:[function(e,n){"use strict";function t(e){return function(n,t){return n.push.apply(n,e(t)),n}}function r(e,n){var o=e.requests.concat(e.children.reduce(t(r),[]));return n&&(e.requests=[]),o}function o(e){var n=[{context:e.context,layer:e}];return n.concat(e.children.reduce(t(o),[]))}n.exports={requests:r,contexts:o}},{}],17:[function(e,n){"use strict";function t(e,n){for(var t,o=n;o;){if(t=o.cache,e in t){if(r(t[e]))return t[e];delete t[e]}o=o.parent}}function r(e){return e.expires-new Date>0}function o(e){return Date.now()+e}n.exports={find:t,expires:o}},{}],18:[function(e,n){"use strict";function t(){for(var e=Array.prototype.slice.call(arguments),n=e.shift(),t=[n],r=n.layer;r;)t.push(r),r=r.parent;t.reverse().forEach(function(t){t.emit.apply(n,e)})}n.exports=t},{}]},{},[1])(1)});