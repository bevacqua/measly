// measly@v0.1.3, MIT licensed. https://github.com/bevacqua/measly
!function(e){if("object"==typeof exports)module.exports=e();else if("function"==typeof define&&define.amd)define(e);else{var n;"undefined"!=typeof window?n=window:"undefined"!=typeof global?n=global:"undefined"!=typeof self&&(n=self),n.measly=e()}}(function(){return function e(n,t,r){function o(u,s){if(!t[u]){if(!n[u]){var c="function"==typeof require&&require;if(!s&&c)return c(u,!0);if(i)return i(u,!0);throw new Error("Cannot find module '"+u+"'")}var a=t[u]={exports:{}};n[u][0].call(a.exports,function(e){var t=n[u][1][e];return o(t?t:e)},a,a.exports,e,n,t,r)}return t[u].exports}for(var i="function"==typeof require&&require,u=0;u<r.length;u++)o(r[u]);return o}({1:[function(e,n){function t(){}var r=n.exports={};r.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,n="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(n){var t=[];return window.addEventListener("message",function(e){var n=e.source;if((n===window||null===n)&&"process-tick"===e.data&&(e.stopPropagation(),t.length>0)){var r=t.shift();r()}},!0),function(e){t.push(e),window.postMessage("process-tick","*")}}return function(e){setTimeout(e,0)}}(),r.title="browser",r.browser=!0,r.env={},r.argv=[],r.on=t,r.once=t,r.off=t,r.emit=t,r.binding=function(){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(){throw new Error("process.chdir is not supported")}},{}],2:[function(e,n){n.exports=e("./src/contra.js")},{"./src/contra.js":3}],3:[function(e,n){(function(e){!function(t,r,o){"use strict";function i(){}function u(e){return"[object Array]"===t.prototype.toString.call(e)}function s(e,n){return Array.prototype.slice.call(e,n)}function c(e,n,t){e&&b(function(){e.apply(t||null,n||[])})}function a(e){function n(){t||(t=!0,(e||i).apply(null,arguments))}var t;return n.discard=function(){t=!0},n}function f(e,n,t){var r=e.shift();return r?(t&&t.discard(),c(n,[r]),!0):void 0}function d(){var e=s(arguments),n=e.shift();return function(){var t=s(arguments);n.apply(n,e.concat(t))}}function l(e,n){function t(){var n=s(arguments),o=e.shift();if(o){if(f(n,r))return;n.push(a(t)),c(o,n)}else c(r,arguments)}var r=a(n);t()}function p(e,n,r){function o(n,t){function r(){var e=s(arguments);f(e,i)||(p[n]=e.shift(),t())}c(e[n],[r])}r||(r=n,n=E);var i=a(r),d=g(o,n),l=t.keys(e),p=u(e)?[]:{};d.unshift(l),d.on("drain",function(){i(null,p)})}function h(e,n){p(e,q,n)}function m(e,n,r){var o=function(r,o,i,s){var c=arguments;2===c.length&&(i=o,o=E),3===c.length&&"number"!=typeof o&&(s=i,i=o,o=E);var a=t.keys(r),f=u(r)?[]:{};a.forEach(function(e){f[e]=function(n){3===i.length?i(r[e],e,n):i(r[e],n)}}),p(f,e||o,n?n(r,s):s)};return r||(o.series=m(q,n,!0)),o}function w(e){function n(e,n){return function(e){n(e)}}return m(e,n)}function v(e){function n(e,n){return function(r,o){function i(e,n){return!!o[n]}function s(){var n={};return t.keys(e).forEach(function(t){i(null,t)&&(n[t]=e[t])}),n}return r?void n(r):void n(null,u(o)?e.filter(i):s())}}return m(e,n)}function y(e,n){var t=n||{},r={};return e===o&&(e={}),e.on=function(e,n){r[e]?r[e].push(n):r[e]=[n]},e.once=function(n,t){t._once=!0,e.on(n,t)},e.off=function(e,n){var t=r[e];t&&t.splice(t.indexOf(n),1)},e.emit=function(){var n=s(arguments),o=n.shift(),i=r[o];if("error"===o&&!i)throw 1===n.length?n[0]:n;i&&(r[o]=i.filter(function(r){return t.async?c(r,n,e):r.apply(e,n),!r._once}))},e}function g(e,n){function r(e,n,t){var r=u(n)?n:[n];r.forEach(function(n){d[e]({t:n,done:t})}),c(o)}function o(){if(!(f||l>=p)){if(!d.length)return void(0===l&&h.emit("drain"));l++;var n=d.pop();e(n.t,a(i.bind(null,n))),c(o)}}function i(e){l--,c(e.done,s(arguments,1)),c(o)}var f,d=[],l=0,p=n||1,h=y({push:r.bind(null,"push"),unshift:r.bind(null,"unshift"),pause:function(){f=!0},resume:function(){f=!1,c(o)},pending:d});return t.defineProperty&&!t.definePropertyPartial&&t.defineProperty(h,"length",{get:function(){return d.length}}),h}var b,x=""+o,q=1,E=1/0,T="function"==typeof setImmediate;b=T?function(e){setImmediate(e)}:typeof e!==x&&e.nextTick?e.nextTick:function(e){setTimeout(e,0)};var C={curry:d,concurrent:p,series:h,waterfall:l,each:w(),map:m(),filter:v(),queue:g,emitter:y};typeof n!==x&&n.exports?n.exports=C:r.contra=C}(Object,this)}).call(this,e("/Users/nico/.nvm/v0.10.26/lib/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))},{"/Users/nico/.nvm/v0.10.26/lib/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":1}],4:[function(e,n){for(var t=e("performance-now"),r="undefined"==typeof window?{}:window,o=["moz","webkit"],i="AnimationFrame",u=r["request"+i],s=r["cancel"+i]||r["cancelRequest"+i],c=0;c<o.length&&!u;c++)u=r[o[c]+"Request"+i],s=r[o[c]+"Cancel"+i]||r[o[c]+"CancelRequest"+i];if(!u||!s){var a=0,f=0,d=[],l=1e3/60;u=function(e){if(0===d.length){var n=t(),r=Math.max(0,l-(n-a));a=r+n,setTimeout(function(){var e=d.slice(0);d.length=0;for(var n=0;n<e.length;n++)e[n].cancelled||e[n].callback(a)},r)}return d.push({handle:++f,callback:e,cancelled:!1}),f},s=function(e){for(var n=0;n<d.length;n++)d[n].handle===e&&(d[n].cancelled=!0)}}n.exports=function(){return u.apply(r,arguments)},n.exports.cancel=function(){s.apply(r,arguments)}},{"performance-now":5}],5:[function(e,n){(function(e){(function(){var t,r,o;"undefined"!=typeof performance&&null!==performance&&performance.now?n.exports=function(){return performance.now()}:"undefined"!=typeof e&&null!==e&&e.hrtime?(n.exports=function(){return(t()-o)/1e6},r=e.hrtime,t=function(){var e;return e=r(),1e9*e[0]+e[1]},o=t()):Date.now?(n.exports=function(){return Date.now()-o},o=Date.now()):(n.exports=function(){return(new Date).getTime()-o},o=(new Date).getTime())}).call(this)}).call(this,e("/Users/nico/.nvm/v0.10.26/lib/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))},{"/Users/nico/.nvm/v0.10.26/lib/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":1}],6:[function(e,n){function t(e,n){function t(){4===f.readyState&&o()}function o(){var e=null,t=f.statusCode=f.status,r=null;if(f.response?r=f.body=f.response:"text"!==f.responseType&&f.responseType||(r=f.body=f.responseText||f.responseXML),1223===t&&(t=204),0===t||t>=400&&600>t){var o=("string"==typeof r?r:!1)||u[String(t).charAt(0)];e=new Error(o),e.statusCode=t}if(f.status=f.statusCode=t,v)try{r=f.body=JSON.parse(r)}catch(i){}n(e,f,r)}function a(e){n(e,f)}"string"==typeof e&&(e={uri:e}),e=e||{},n=i(n);var f=e.xhr||null;!f&&e.cors?f=new c:f||(f=new s);var d,l=f.url=e.uri||e.url,p=f.method=e.method||"GET",h=e.body||e.data,m=f.headers=e.headers||{},w=!!e.sync,v=!1;if("json"in e&&(v=!0,m.Accept="application/json","GET"!==p&&"HEAD"!==p&&(m["Content-Type"]="application/json",h=JSON.stringify(e.json))),f.onreadystatechange=t,f.onload=o,f.onerror=a,f.onprogress=function(){},f.ontimeout=r,f.open(p,l,!w),e.cors&&e.withCredentials!==!1&&(f.withCredentials=!0),w||(f.timeout="timeout"in e?e.timeout:5e3),f.setRequestHeader)for(d in m)m.hasOwnProperty(d)&&f.setRequestHeader(d,m[d]);return"responseType"in e&&(f.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(f),f.send(h),f}function r(){}var o=e("global/window"),i=e("once"),u={0:"Internal XMLHttpRequest Error",4:"4xx Client Error",5:"5xx Server Error"},s=o.XMLHttpRequest||r,c="withCredentials"in new s?o.XMLHttpRequest:o.XDomainRequest;n.exports=t},{"global/window":7,once:8}],7:[function(e,n){(function(e){n.exports="undefined"!=typeof window?window:"undefined"!=typeof e?e:{}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],8:[function(e,n){function t(e){var n=!1;return function(){return n?void 0:(n=!0,e.apply(this,arguments))}}n.exports=t,t.proto=t(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return t(this)},configurable:!0})})},{}],9:[function(e,n){"use strict";function t(e,n){var t=e.requests.concat(e.children.reduce(r,[]));return n&&(e.requests=[]),t}function r(e,n){return e.push.apply(e,t(n)),e}n.exports=t},{}],10:[function(e,n){"use strict";function t(e,n){for(var t,o=n;o;){if(t=o.cache,e in t){if(r(t[e]))return t[e];delete t[e]}o=o.parent}}function r(e){return e.expires-new Date>0}function o(e){return Date.now()+e}n.exports={find:t,expires:o}},{}],11:[function(e,n){"use strict";n.exports=function(e,n,t){function r(t){for(var r=Array.prototype.slice.call(arguments),o=[t].concat(r),i=n;i;)i.emit.apply(e,o),i=i.parent}t.forEach(function(n){e.on(n,r.bind(e,n))})}},{}],12:[function(e,n){(function(t){"use strict";function r(e,n){function t(e,n){var t=n.method;if(n&&n.xhr&&n.xhr.method&&(t=n.xhr.method),!t)throw new Error("A request method must be specified.");return p(t,e,n)}function l(n){var t=r(n||e,y);return y.children.push(t),t}function p(n,t,r){function c(){b.emit("create",b),p()}function f(e,n,t){function r(){var r={body:n,statusCode:t||e?500:200};b.emit("cache",e,n),h(e,r,n)}if(!b.prevented){if(b.requested===!0)throw new Error("A request has already been made. Prevent synchronously!");b.prevented=!0,o(r)}}function l(){var e=s.find(t,y);e&&(e.cached=!0,b.xhr=e,b.prevented=!0,b.emit("cache",e.error,e.body),h(e.error,e,e.body))}function p(){"GET"===n&&l(),b.prevented||(b.requested=!0,b.xhr=i(g,h),b.emit("request",b.xhr))}function h(e,n,r){b.error=e,b.response=r,b.done=!0,b.cache&&!n.cached&&(y.cache[t]={expires:s.expires(b.cache),error:e,body:r,statusCode:n.statusCode}),e?(b.emit("error",e,r),b.emit(e.statusCode,e,r)):b.emit("data",r),v(b)}var g=r||{};g.url=t,g.method=n.toUpperCase();var b=u.emitter({done:!1,requested:!1,prevented:!1,prevent:f,layer:y,context:g.context||e.context,cache:g.cache||e.cache});return b.abort=m.bind(null,b),a(b,y,d),o(c),w(b),b}function h(){c(y,!0).forEach(m)}function m(e){e.prevented=!0,e.emit("abort",e.xhr),e.xhr&&e.xhr.abort(),v(e)}function w(e){y.requests.push(e)}function v(e){var n=y.requests.indexOf(e),t=y.requests.splice(n,1);t.length&&e.emit("always",e.error,e.response,e)}var y=u.emitter({thinner:l,parent:n,context:e.context,children:[],requests:[],cache:{},abort:h,request:t});return f.forEach(function(e){y[e]=p.bind(null,e)}),y}var o=e("raf"),i=e("xhr"),u=e("contra"),s=e("./cache"),c=e("./aggregate"),a=e("./emitUpstream"),f=["get","post","put","delete","patch"],d=["create","cache","request","abort","error","data","always"];n.exports=r({context:t.document.body,base:""})}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./aggregate":9,"./cache":10,"./emitUpstream":11,contra:2,raf:4,xhr:6}]},{},[12])(12)});